project:
    name: OutboundFundsNPSP
    package:
        name: Outbound Funds (npsp)
        namespace: outfundsnpspext
        api_version: "50.0"
    dependencies:
        - github: "https://github.com/SalesforceFoundation/NPSP"
        - github: "https://github.com/SFDO-Community/OutboundFunds"
    source_format: sfdx

orgs:
    scratch:
        dev_namespaced:
            config_file: orgs/dev.json
            days: 7
            namespaced: True
        prerelease:
            config_file: orgs/prerelease.json
        beta_prerelease:
            config_file: orgs/beta_prerelease.json

tasks:
    robot:
        options:
            suites: robot/OutboundFundsNPSP/tests
            options:
                outputdir: robot/OutboundFundsNPSP/results

    robot_libdoc:
        options:
            path: robot/OutboundFundsNPSP/resources/OutboundFundsNPSP.py,robot/OutboundFundsNPSP/resources/OutboundFundsNPSP.robot,robot/OutboundFundsNPSP/resources/*PageObject.py
            output: robot/OutboundFundsNPSP/doc/Keywords.html

    load_storytelling_data:
        class_path: cumulusci.tasks.bulkdata.LoadData
        description: ""
        options:
            mapping: datasets/mapping.yml
            sql_path: datasets/data.sql

    extract_storytelling_data:
        class_path: cumulusci.tasks.bulkdata.ExtractData
        description: ""
        options:
            mapping: datasets/mapping.yml
            sql_path: datasets/data.sql

flows:
    config_dev:
        steps:
            3:
                task: load_storytelling_data
